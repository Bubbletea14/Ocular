<!DOCTYPE html>
<html>

<head>
    <title>Ocular Metrics Collector</title>
    <style>
        body {
            text-align: center;
            background-color: bisque;
        }

        p {
            font-family: verdana;
            font-size: 20px;
        }

    </style>
</head>

<body>
    <h1 style="color:blueviolet;">Welcome to Ocular</h1>
    <h1>User List</h1>
    <ul class="userList"></ul>

    <h1>Process List</h1>
    <ul class="processList"></ul>

    <h1>Memory List</h1>
    <ul class="memoryList"></ul>

    <h1>Cpu List</h1>
    <ul class="cpuList"></ul>


    <script>
        // Fetch data from the user API 
        fetch('/api/v1/Users')
            .then(response => response.json())
            .then(users => {
                // Handle the response data for users
                const userListElements = document.querySelectorAll('.userList');
                userListElements.forEach(userListElement => {
                    userListElement.innerHTML = '';
                    users.forEach(user => {
                        const listUserItem = document.createElement('li');
                        listUserItem.textContent = `ID: ${user.id}, Username: ${user.username}, Email: ${user.email}`;
                        userListElement.appendChild(listUserItem);
                    });
                });
            })
            .catch(error => console.error('Error fetching users:', error));

        // Fetch data from the processes API 
        fetch('/api/v1/Processes')
            .then(response => response.json())
            .then(processes => {
                // Handle the response data for processes
                const processListElements = document.querySelectorAll('.processList');
                processListElements.forEach(processListElement => {
                    processListElement.innerHTML = '';
                    processes.forEach(process => {
                        const listProcessItem = document.createElement('li');
                        listProcessItem.textContent = `PID: ${process.pid}, Name: ${process.name}`;
                        processListElement.appendChild(listProcessItem);
                    }); 
                });
            })
            .catch(error => console.error('Error fetching processes:', error));

        // Fetch data from the Memory API 
        fetch('/api/v1/Memory')
            .then(response => response.json())
            .then(memoryData => {
                // Handle the response data for memory
                const memoryListElements = document.querySelectorAll('.memoryList');
                memoryListElements.forEach(memoryListElement => {
                    memoryListElement.innerHTML = '';
                    memoryData.forEach(memory => {
                        const listMemoryItem = document.createElement('li');
                        listMemoryItem.style.whiteSpace = 'pre-line';
                        listMemoryItem.textContent = `Memory ID: ${memory.id}\n` +
                            `Total Memory: ${memory.totalMemory}\n` +
                            `Free Memory: ${memory.freeMemory}\n` +
                            `Used Memory: ${memory.usedMemory}\n` +
                            `Memory Speed: ${memory.memorySpeed}\n` +
                            `Memory Usage Percentage: ${memory.memoryUsagePercentage}`;
                        memoryListElement.appendChild(listMemoryItem);
                    }); 
                });
            })
            .catch(error => console.error('Error fetching memory data:', error));

         // Fetch data from the CPU API 
         fetch('/api/v1/Cpu')
            .then(response => response.json())
            .then(cpu => {
                // Handle the response data for cpu
                const cpuListElements = document.querySelectorAll('.cpuList');
                cpuListElements.forEach(cpuListElement => {
                    cpuListElement.innerHTML = '';
                    cpu.forEach(cpu => {
                        const listCpuItem = document.createElement('li');
                        listCpuItem.textContent = `ID: ${cpu.id}, ProcessorType: ${cpu.processorType}, processorSpeed: ${cpu.processorSpeed}, Count:${cpu.count}, upTime:${cpu.upTime} `;
                        cpuListElement.appendChild(listCpuItem);
                    });
                });
            })
            .catch(error => console.error('Error fetching cpu:', error));

    </script>
</body>

</html>